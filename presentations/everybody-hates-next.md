# Next.js: The Bad, The Bad and The Bad.

Дослідження поганої сторони Next.js, яке базується на власному досвіді і досвіді розробників які пишуть блоги.

1. Вступ

   - Що таке Next.js?
   - Чому він такий популярний?
   - Чому я його використовую?

2. Мій досвід з Next.js

   - Я розробив навчальний курс для студентів по Next.js і React.
   - Взяв участь в великому проєкті з Next.js.
   - Провів 10+ співбесід з кандидатами на проєкт.

3. Хороші сторони Next.js

   - Швидкий старт
   - Вбудовані функції
   - Велика спільнота
   - React команда його радить як стартер для проєктів.

4. Проблеми з Next.js:

5. Відсутість документації різними мовами, без бажання це змінювати.

6. Він занадто складний, ніхто не розуміє, що взагалі відбувається.

   - Розробники думають, що Next.js це просто React з додатковими фічами: постійно пишуть 'use client' де треба і де не треба, не бачать різниці між серверними компонентами і SSR(Server Side Rendering).
   - Ніхто не розумію, що коїться під капотом. Ніде немає документації що він там робить, доводиться лізти в вихідний код.

   Рішення: брати людей з розумінням Next.js, або навчати коли вони приєднаються до проєкту.

7. Занадто високорівневі абстракції

   - Мій досвід: через спеціфічну структуру проєкту, ми мали прокидати через пропси обʼєкти з даними, в решті-решт, Некст дублював ці обʼєкти 6(!) разів, що призводидо до роздутого HTML файлу. Як це вирішувати досі невідомо.

8. Публічні змінні оточення не можна задавати підчас деплою.

   Мій досвід: розробники захаркодили і значення і нікому не сказали, врешті-решт я підготував рішення, яке базується на хаку з цього пакету: https://www.npmjs.com/package/next-runtime-env

   Рішення: Сам напиши фікс як і лібі. Але чому я взагалі маю це писати?

9. Постійні breaking changes.

   - В App Router постійно щось оновлюється, складно зрозуміти що саме відвалиться при оновленні до новішої версії.

   - Мій досвід: Оновлення з версії 15.2.5 до версії 15.4.7 зламало деплой, причиною було те, що TS мав бути dependendencies а не devDependencies.

   Рішення: постійн оновлення залежностей + уважне читання реліз ноутів + автоматизація регресивного тестування.

10. Два різних роутери, які ідуть пліч о пліч, що ускладнюю розробку і пітримку проєктів.

11. Маленькі не дуже приємні деталі

    - Наприклад немає можливості зробити не мініфікований білд, тільки сорс мапи. Раніше така можливість була.
    - Повільна швидкість в режимі розробника на великих проєктах.
    - тощо

12. Завʼязка на Vercel для деплою і хостингу і відсутність офіцційної підтримки serverless.

    - https://eduardoboucas.com/posts/2025-03-25-you-should-know-this-before-choosing-nextjs/

13. Занадто складний механізм кешингу. Який ще і змінився нещодавно, прибравши жорстке кешування всіх запитів.
    Рішення: навчання людей і постійни оновлення, проте це не виглядає як рішення готове для production з усіма нестабільними API.

14. Альтернативи Next.js

    - Astro - дуже крута альтернатива з фокусом на статику. Можна використовувати
    - Remix
    - Svelte

15. Підсумки
    - Обирайте технології під конкретну задачу а не за популярністю.
    - Робіть дослідженні до проєкту, а не після.
