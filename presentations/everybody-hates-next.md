# Breaking Next: чому ми всі ненавидимо Next.js

## Варіанти назви

- **Next.js: The Bad, The Bad and The Bad.**
- Breaking Next: чому ми всі ненавидимо Next.js
- Next.js we need to talk, it is because of me, not you. I just need some space.
- Next.js intervention.

https://jsx.lol/
https://news.ycombinator.com/item?id=45099922



1. Вступ
   - Що таке Next.js?
   - Чому він такий популярний?
   - Чому я його використовую? 

2. Мій досвід з Next.js
    - Я розробив навчальний курс для студентів по Next.js і React.
    - Взяв участь в великому проєкті з Next.js.
    - Провів 10+ співбесід з кандидатами на проєкт.

3. Хороші сторони Next.js
   - Швидкий старт
   - Вбудовані функції
   - Велика спільнота
   - React команда його радить як стартер для проєктів.

3. Проблеми з Next.js

4. Він занадто складний, ніхто не розуміє, що взагалі відбувається.
    - Розробники думають, що Next.js це просто React з додатковими фічами: постійно пишуть 'use client' де треба і де не треба, не бачать різниці між серверними компонентами і SSR(Server Side Rendering).
    - Ніхто не розумію, що коїться під капотом. Ніде немає документації що він там робить, доводиться лізти в вихідний код.
    - Мій досвід: через спеціфічну структуру проєкту, ми мали прокидати через пропси обʼєкти з даними, в решті-решт, Некст дублював ці обʼєкти 6(!) разів, що призводидо до роздутого HTML файлу. 

    Рішення: брати людей з розумінням Next.js, або навчати коли вони приєднаються до проєкту. 

5. Публічні змінні оточення не можна задавати підчас деплою.

    Мій досвід: 

    Рішення: Сам напиши фікс як і лібі. Але чому я взагалі маю це писати?

6. Постійні breaking changes.
    - Мій досвід: Оновлення з версії 15.2.5 до версії 15.4.7 зламало деплой, причиною було те, що TS мав бути dependendencies а не devDependencies.

    Рішення: постійн оновлення залежностей + уважне читання реліз ноутів + автоматизація регресивного тестування.

7. Два різних роутери, які ідуть пліч о пліч. 

8. Цікаві офіційні приколи
    - Наприклад немає можливості зробити не мініфікований білд, тільки сорс мапи. Раніше така можливість була. 

9. Занадто складний механізм кешингу. Який ще і змінився нещодавно, прибравши жорстке кешування всіх запитів.
    Рішення: навчання людей і постійни оновлення. 

11. Server Side Prerendering занадто абстрагований, складно знаходити проблеми.

12. Логування запитів тільки хакамми
    - https://nextjs.org/docs/app/api-reference/config/next-config-js/logging

13. Альтернативи Next.js
    - Astro - дуже крута альтернатива з фокусом на статику. Можна використовувати

